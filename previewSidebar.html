<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Print preview</title>
    <script>
      const {ipcRenderer} = require('electron')
      const paperSizeEnum = ['A3', 'A4', 'A5', 'Legal', 'Letter', 'Tabloid']
      const layout = ['portrait', 'landscape']
      const { showPrintPreviewLoading, printToPdf } = require('./printPreview')
      
      let viewLId = null
      ipcRenderer.on('getViewLId', (event, id) => {
        viewLId = id
      })

      function toPrintToPdf() {
        // print layout, values: ['portrait', 'landscape']
        let layoutSelect = document.getElementById('layoutSelect')
        let landscape = layoutSelect.value == 'landscape'

        // paper size, values: ['A3', 'A4', 'A5', 'Legal', 'Letter', 'Tabloid']
        let paperSizeSelect = document.getElementById('paperSizeSelect')
        let pageSize = paperSizeSelect.value

        showPrintPreviewLoading(viewLId)
        printToPdf({ landscape, pageSize }, viewLId)
      }
    </script>
  </head>
  <body>
    <div>
      <form class="navbar-form navbar-left" role="search">
        <div class="form-group">
          <label>Destination</label>
          <select></select>
        </div>
        <div class="form-group">
          <label>Copies</label>
          <input type="text" class="form-control" placeholder="Search">
        </div>
        <div class="form-group">
          <label>Layout</label>
          <select id="layoutSelect" onchange="toPrintToPdf()">
            <option value="portrait" selected>Portrait</option>
            <option value="landscape">Landscape</option>
          </select>
        </div>
        <div class="form-group">
          <label>Paper size</label>
          <select id="paperSizeSelect" onchange="toPrintToPdf()">
            <option value="A3">A3</option>
            <option value="A4" selected>A4</option>
            <option value="A5">A5</option>
            <option value="Legal">Legal</option>
            <option value="Letter">Letter</option>
            <option value="Tabloid">Tabloid</option>
          </select>
        </div>

        <!--print slient-->
        <button type="submit" class="btn btn-default">Cofirm</button>

        <!--cancel-->
        <button type="submit" class="btn btn-default">Cancel</button>
      </form>
    </div>
  </body>
</html>